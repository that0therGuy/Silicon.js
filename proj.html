<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="img.png" type="image/x-icon">
  <title>Settings</title>
  <link rel="stylesheet" href="css.css">

</head>
<body>
<div class="container" style="gap:20px;">
  <H1>Project Settings:</H1>
  <h5>Downloads:</h5>
  <button class="download_js">Download your .js file</button>
  <button class="download_mjs">Download your .mjs file</button>
  <button class="download_cjs">Download your .cjs file</button>
  <h5>Controls:</h5>
  <div style="display:flex;align-items: center;justify-content: center;gap:25px;">
    <button class="dbl">Delete code after double-clicking the Heading</button>
    <h6 class="dlete">False</h6>

  </div>


  <a href="index.html">< Back to editor > </a>
</div>
<script>
  function checkforfont(){

    if (localStorage.getItem('font')==1){
      const allElements = document.querySelectorAll('*');


      allElements.forEach(element => {
        element.style.fontFamily='space mono'
      });



    }else if(localStorage.getItem('font')==2){
      const allElements = document.querySelectorAll('*');


      allElements.forEach(element => {
        element.style.fontFamily='parkinsans'
      });

    }
    else{
      const allElements = document.querySelectorAll('*');


      allElements.forEach(element => {
        element.style.fontFamily='jetbrains mono'
      });

    }
  }
  checkforfont()
  let h6 = document.querySelector(".dlete");
  if (localStorage.getItem('isdbl')==null){
    isdbl= false

  }else{
    isdbl= localStorage.getItem('isdbl')==='true';
    updateH6State()
  }

  function updateH6State() {
    if (isdbl) {
      h6.style.background = 'linear-gradient(90deg, rgb(207, 255, 205) 0%, rgba(61, 255, 31, 0.8) 100%)';
      h6.innerHTML = 'True';
      h6.style.webkitBackgroundClip = 'text';
      h6.style.webkitTextFillColor = 'transparent';
    } else {
      h6.innerHTML = 'False';
      h6.style.background = 'linear-gradient(90deg, rgb(255, 205, 205) 0%, rgba(117, 0, 0, 0.8) 100%)';
      h6.style.webkitBackgroundClip = 'text';
      h6.style.webkitTextFillColor = 'transparent';
    }

  }
  updateH6State()


  function dblclick(){
    console.log(isdbl)
    isdbl=!isdbl;
    localStorage.setItem('isdbl',isdbl);
    updateH6State()

  }
  document.querySelector('.dbl').addEventListener('click',()=>{
    dblclick()

  })
  function download(code,file){
    let a= document.createElement('a');
    a.setAttribute('href','data:text/plain;charset:utf-8,'+encodeURIComponent(code));
    a.setAttribute('download',`index.${file}`);
    a.style.display='none';
    document.body.append(a);
    a.click();
    document.body.removeChild(a);

  }
  document.querySelector('.download_js').addEventListener('click',()=>{
    download(localStorage.getItem('code'),'js')
  })
  document.querySelector('.download_mjs').addEventListener('click',()=>{
    download(localStorage.getItem('code'),'mjs')
  })
  document.querySelector('.download_cjs').addEventListener('click',()=>{
    download(localStorage.getItem('code'),'cjs')
  })

</script>
</body>
</html>